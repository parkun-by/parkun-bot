# Бот для облегчения посылки писем в ГАИ о нарушении правил парковки (<https://faq.rfrm.io/parking.html>)

Бот умеет прикреплять присланные фотографии к письму и заполнять его вашими личными данными и информацией о нарушении. После этого отправлять от вашего имени (с вашего email) письмо в ГАИ. Также фото нарушений отправляются в канал <http://t.me/parkun>

Работает по всей Беларуси.

Бот развернут по адресу <http://t.me/parkun_by_bot>.

Одобряются issue, pull requests и прочие привнесения. [Инструкция для разработчиков.](./docs/russian/developers_guide.md)

Спасибо за внимание.

Changelog:

2.0

    - Посылка обращений в ГАИ возвращена. [Подробности.](./docs/russian/parkun_2_announcement.md)

1.12.0

    - Отключена посылка обращений. [Подробности](https://telegra.ph/Pochemu-bot-bolshe-ne-otpravlyaet-ehlektronnye-obrashcheniya-07-03).
    Вся остальная функциональность оставлена.

1.11.0

    - При вводе личных данных теперь отображается текущее значение.
    - Сообщение запроса ФИО согласовано с примером.

1.10.8

    - Обращение дополнено требованием не выдавать персональные данные заявителя.

1.10.7

    - Исправление письма обращения в соответствии с новым
    постановлением МВД от 08.01.2019 №5.
    - Изменен адрес почты Гомельского УВД.

1.10.6

    - Установлено ограничение в 10 фото на одно обращение.
    - Мелкие исправления.

1.10.5

    - Увеличение надежности при старте бота.

1.10.4

    - Новые email для Гродненской и Витебской области.

1.10.3

    - Была написана новая инструкция по отправке нарушений.
    Добавлена в раздел /help и отображается после каждой смены личных данных.

1.10.2

    - В тело письма теперь явно добавляется email отправителя.

1.10.1

    - В сообщение перед отправкой добавлена информация о твиттере.

1.10.0

    - Бот теперь отправляет нарушения и в твиттер.
    - Возможно починилось периодическое дублирование некоторых постов
    в канале при отправке обращения ботом.

1.9.4

    - Сервер верификации адреса почты теперь получает информацию о языке бота.

1.9.4

    - Уточнили сообщение о подтверждении ящика чтобы было понятно, что
    нарушение нужно вводить заново.

1.9.3

    - Мелкие улучшения.

1.9.2

    - Исправлена ошибка.

1.9.1

    - Для удобства инспекторов ссылки на фото в обращении теперь озаглавлены
    и расположены компактно группой.
    - Повышение надежности работы бота.

1.9.0

    - Бот теперь умеет банить и разбанивать.

1.8.1

    - В тело письма, наряду с фото нарушения, встраивается и ссылка на это фото
    текстом.
    - На соединение для загрузки границ регионов повешен таймаут 5 сек.
    - На беларуский язык переведена фраза "Не получилось подобрать адрес."
    - Ускорена обработка отправленных боту фотографий.

1.8.0

    - Беларуская мова у боце.

1.7.3

    - Баг на айфонах. При нажатии на кнопку "Подтвердить email" отправляется
    много писем.

1.7.2

    - Теперь бот шлет копию не на почтовый ящик пользователя, а файлом в чат.

1.7.1

    - Добавлена проверка, является ли email временным, а не постоянным.

1.7.0

    - Добавлена процедура верификации ящика электронной почты.

1.6.4

    - Больше важного текста выделено жирным шрифтом.
    - Теперь бот посылает нарушение в канал только после успешной отправки
    обращения по почте.

1.6.3

    - Уточнено сообщение о необходимости посылки качественных фото, на
    которых хорошо видно номер и нарушение.

1.6.2

    - Теперь обращение просит отвечать на него только по электронной почте.
    Чтобы спасти побольше деревьев.
    - Дополнен хелп информацией о возможности ограниченного пакетного ввода
    нарушений.

1.6.1

    - Мелкие улучшения.

1.6.0

    - Добавлена возможность просмотра и изменения личной информации
    коммандой /personal_info. Комманда /setup_sender удалена.

1.5.1

    - Исправлена ошибка неработоспособности бота при некоторых сложных
    email адресах отправителей.

1.5.0

    - Добавлена возможность при отправке нарушения указать примечание в письме,
    от отправителя письма.

1.4.3

    - Добавлено сообщение о том, что на фото должно быть четко видно гос. номер
    и само нарушение.
    - В процессе повышения регистра и замены латинских букв кириллицей при
    обработке гос. номера теперь буква "i" тоже заменяется.

1.4.2

    - При вводе нарушения появилась возможность выбрать адрес, введенный в
    прошлый раз.
    - Изменен способ ответа на обращения (для ответчика).

1.4.1

    - Смена хостинга для встроенных в тело письма фоток.

1.4.0

    - Предварительный просмотр перед отправкой теперь формируется вместо с
    фотографиями нарушения.
    - В предварительном просмотре перед отправкой добавлена информация о
    публикации в канале.
    - В тексте предварительного просмотра перед отправкой важная информация
    выделена жирным шрифтом.
    - В канал теперь публикуется также гос. номер (чтобы можно было
    использовать поиск).

1.3.3

    - Ошибка в шаблоне - упоминание ГУВД Мингорисполкома.

1.3.2

    - В альбомах, посылаемых в канал, подпись устанавливается только на первое
    фото. В таком случае она отображается под альбомом.

1.3.1

    - Исправлена ошибка, из-за которой бот застревал на отправке фото.

1.3.0

    - Теперь бот пересылает фотографии, адрес нарушения и время в канал для
    всеобщей потехи.
    - Обновлен /help.

1.2.0

    - Добавлена возможность отправлять обращения о нарушениях по всей
    республике. Обращение идет в областное УВД (должны сами пересылать по
    районам по идее).

1.1.6

    - В сообщение бота, что обращение успешно отправлено, добавлено
    предупреждение, что на mail.ru копии письма не доходят.

1.1.5

    - Дополнен хелп про недоход писем на ящики на mail.ru.
    - Дополнен хелп списком изменений.

1.1.4

    - Прикрепленные в письме фото дополнительно встраиваются в тело письма.
    Некоторые почтовые ящики ГАИ не умеют прикрепленные файлы.

1.1.3

    - Исправлен баг, когда добавлялись не все фото при добавлении их группой.

1.1.2

    - Мелкие доработки под капотом

1.1.1

    - Обновлен раздел /help

1.1.0

    - Добавлена возможность отправлять запросы в ГАИ на беларуском языке.
    - Исправлена редкая ошибка непоявления подтверждения отправки обращения.

1.0.0 Бот запущен в промышленную эксплуатацию

    - исправление опечаток в шаблоне письма
    - доработка логгирования

0.2.0

    - Кнопка для переввода данных о нарушении
    - Реплики бота стали более официальными

0.1.1

    - Поправил ошибку неправильного подбора текущего времени.

0.1.0 Вторая тестовая версия.

    - Поправил и изменил много где тексты.
    - Добавил команду для фидбэка.
    - Сделал кнопки под сообщениями и насыпал их побольше.
    - Добавил политику конфиденциальности, почитать можно по команде /help.
    - Добавил возможность задавать адрес отправкой локации.
    - Сделал номер телефона необязательным.

0.0.0 Первая тестовая версия.
